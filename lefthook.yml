---
pre-commit:
  parallel: true
  jobs:
    - name: lefthook
      glob: lefthook.yml
      run: uvx lefthook validate

    - name: ruff
      glob: '*.{py,pyi}'
      run: >
        uvx ruff format {staged_files} &&
        uvx ruff check --fix {staged_files}
      stage_fixed: true

    - name: pyright
      glob: 'yt_dlp_plugins/**/*.py'
      run: uvx pyright {staged_files}
